{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///main.js","webpack:///webpack/bootstrap 3ea3e1a6972907cf73ea","webpack:///search.vue","webpack:///./~/vue-loader/lib/component-normalizer.js","webpack:///./src/components/amapsearch/search.vue?c4c4","webpack:///./src/mixins/amap.js","webpack:///./src/components/amapsearch/search.ts","webpack:///./src/components/amapsearch/search.vue"],"names":["root","factory","exports","module","define","amd","a","i","this","modules","__webpack_require__","moduleId","installedModules","l","call","m","c","value","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","object","property","prototype","hasOwnProperty","p","s","default","rawScriptExports","compiledTemplate","scopeId","cssModules","esModule","scriptExports","type","options","render","staticRenderFns","_scopeId","computed","create","keys","forEach","key","_vm","_h","$createElement","_c","_self","staticClass","style","width","height","directives","rawName","expression","attrs","id","autocomplete","placeholder","domProps","on","keyup","$event","_k","keyCode","searchDefaultSuggestion","input","target","composing","autocomplateInput","_v","click","selectedPoi","location","ref","isMoved","_s","address","setMarkerLocation","amapmixinApp","data","map","placeSearch","amapCounty","geocoder","lat","lng","editingPolygon","mouseTool","mounted","methods","initAmap","domContainer","mapCenter","icon","dragEnable","vm","AMap","Map","resizeEnable","zoom","center","marker","Marker","position","setMap","plugin","addControl","ToolBar","Scale","Geocoder","radius","extensions","MouseTool","initAutocomplate","pageSize","cityname","autoOptions","city","Autocomplete","PlaceSearch","event","addListener","e","console","log","poi","search","status","result","info","clearMap","renderSearchMarker","poiList","pois","setFitView","setZoom","clear","initMouseTools","obj","getPosition","getAddress","_address","regeocode","addressComponent","district","street","streetNumber","formattedAddress","infoWindow","InfoWindow","offset","Pixel","poiIndex","_i","poiList_1","length","draggable","content","$refs","setExtData","getExtData","setContent","open","clearInfoWindow","that","lnglat","setPosition","LngLat","initAMapDistrictSearch","keyword","callback","service","opts","subdistrict","showbiz","level","DistrictSearch","county","districtList","setCenter","selectPeriphery","selectType","searchNearBy","amap_1","watch","val","oldVal","$emit","selectedPoi.location.lat","newVal","autoConfirm","loc","JSON","stringify","parse","defaultLat","defaultLng","props","Number","required","defaultCity","String","searchCount","Boolean","useClick","showSearch","createScript","cb","window","error","el","document","createElement","src","onload","setTimeout","head","appendChild","initMap","_this","mixins","Component"],"mappings":"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","file":"main.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse {\n\t\tvar a = factory();\n\t\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];\n\t}\n})(this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse {\n\t\tvar a = factory();\n\t\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];\n\t}\n})(this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// identity function for calling harmony imports with the correct context\n/******/ \t__webpack_require__.i = function(value) { return value; };\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 6);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nmodule.exports = __webpack_require__(5).default;\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports) {\n\n// this module is a runtime utility for cleaner component module output and will\n// be included in the final webpack user bundle\n\nmodule.exports = function normalizeComponent (\n  rawScriptExports,\n  compiledTemplate,\n  scopeId,\n  cssModules\n) {\n  var esModule\n  var scriptExports = rawScriptExports = rawScriptExports || {}\n\n  // ES6 modules interop\n  var type = typeof rawScriptExports.default\n  if (type === 'object' || type === 'function') {\n    esModule = rawScriptExports\n    scriptExports = rawScriptExports.default\n  }\n\n  // Vue.extend constructor export interop\n  var options = typeof scriptExports === 'function'\n    ? scriptExports.options\n    : scriptExports\n\n  // render functions\n  if (compiledTemplate) {\n    options.render = compiledTemplate.render\n    options.staticRenderFns = compiledTemplate.staticRenderFns\n  }\n\n  // scopedId\n  if (scopeId) {\n    options._scopeId = scopeId\n  }\n\n  // inject cssModules\n  if (cssModules) {\n    var computed = Object.create(options.computed || null)\n    Object.keys(cssModules).forEach(function (key) {\n      var module = cssModules[key]\n      computed[key] = function () { return module }\n    })\n    options.computed = computed\n  }\n\n  return {\n    esModule: esModule,\n    exports: scriptExports,\n    options: options\n  }\n}\n\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"amap-search__container\",\n    style: ({\n      width: _vm.width + 'px',\n      height: _vm.height + 'px'\n    })\n  }, [_c('div', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.showSearch),\n      expression: \"showSearch\"\n    }],\n    staticClass: \"amap-search__autocomplate\"\n  }, [_c('input', {\n    directives: [{\n      name: \"model\",\n      rawName: \"v-model\",\n      value: (_vm.autocomplateInput),\n      expression: \"autocomplateInput\"\n    }],\n    attrs: {\n      \"type\": \"text\",\n      \"id\": \"autocomplate-input\",\n      \"autocomplete\": \"off\",\n      \"placeholder\": \"输入详细地址,越详细定位越精准\"\n    },\n    domProps: {\n      \"value\": (_vm.autocomplateInput)\n    },\n    on: {\n      \"keyup\": function($event) {\n        if (!('button' in $event) && _vm._k($event.keyCode, \"enter\", 13, $event.key, \"Enter\")) { return null; }\n        return _vm.searchDefaultSuggestion($event)\n      },\n      \"input\": function($event) {\n        if ($event.target.composing) { return; }\n        _vm.autocomplateInput = $event.target.value\n      }\n    }\n  }), _vm._v(\" \"), _c('a', {\n    staticClass: \"amap-search__search-btn\",\n    on: {\n      \"click\": _vm.searchDefaultSuggestion\n    }\n  }, [_vm._v(\"\\n          搜索\\n      \")])]), _vm._v(\" \"), _c('div', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.selectedPoi.location.lat),\n      expression: \"selectedPoi.location.lat\"\n    }],\n    ref: \"marker-content\",\n    staticClass: \"marker-content\"\n  }, [_c('div', {\n    staticClass: \"marker-content-header\"\n  }, [_c('span', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.selectedPoi.isMoved == false),\n      expression: \"selectedPoi.isMoved==false\"\n    }],\n    staticClass: \"notice-icon\"\n  }, [_vm._v(\"⚑\")]), _vm._v(\" \"), _c('span', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.selectedPoi.isMoved == false),\n      expression: \"selectedPoi.isMoved==false\"\n    }],\n    staticClass: \"notice\"\n  }, [_vm._v(\"已将坐标定位为\")]), _vm._v(\" \"), _c('span', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.selectedPoi.isMoved),\n      expression: \"selectedPoi.isMoved\"\n    }],\n    staticClass: \"notice\"\n  }, [_vm._v(\"坐标定位\")])]), _vm._v(\" \"), _c('div', {\n    staticClass: \"marker-info\"\n  }, [_c('div', {\n    staticClass: \"marker-name\"\n  }, [_vm._v(_vm._s(_vm.selectedPoi.name))]), _vm._v(\" \"), _c('div', {\n    staticClass: \"marker-address\"\n  }, [_vm._v(_vm._s(_vm.selectedPoi.address))])]), _vm._v(\" \"), _c('a', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.selectedPoi.isMoved),\n      expression: \"selectedPoi.isMoved\"\n    }],\n    staticClass: \"amap-search__confirm-btn\",\n    on: {\n      \"click\": function($event) {\n        _vm.setMarkerLocation(_vm.selectedPoi)\n      }\n    }\n  }, [_vm._v(\"确定\")])]), _vm._v(\" \"), _c('div', {\n    attrs: {\n      \"id\": \"amap-container\"\n    }\n  })])\n},staticRenderFns: []}\n\n/***/ }),\n/* 4 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.amapmixinApp = {\n    data: function data() {\n        return {\n            map: {},\n            autocomplete: {},\n            placeSearch: {},\n            amapCounty: {},\n            geocoder: {},\n            selectedPoi: {\n                location: {\n                    lat: 0,\n                    lng: 0\n                },\n                address: '',\n                name: '',\n                isMoved: true\n            },\n            editingPolygon: {},\n            mouseTool: {}\n        };\n    },\n    mounted: function mounted() {\n        // console.log('amapmixin mounted');\n    },\n    methods: {\n        /**\n         * 初始化amap对象\n         */\n        initAmap: function initAmap(domContainer, mapCenter, icon, dragEnable) {\n            var vm = this;\n            vm.map = new AMap.Map(domContainer, {\n                resizeEnable: true,\n                zoom: 14,\n                dragEnable: dragEnable,\n                center: mapCenter\n            });\n            vm.marker = new AMap.Marker({\n                position: mapCenter, //marker所在的位置\n                map: vm.map, //创建时直接赋予map属性\n                icon: icon\n            });\n            vm.marker.setMap(vm.map);\n            AMap.plugin(['AMap.Geocoder', 'AMap.ToolBar', 'AMap.Scale'], function () {\n                vm.map.addControl(new AMap.ToolBar());\n                vm.map.addControl(new AMap.Scale());\n            });\n            vm.geocoder = new AMap.Geocoder({\n                radius: 1000,\n                extensions: \"all\"\n            });\n            if (AMap.MouseTool) {\n                vm.mouseTool = new AMap.MouseTool(vm.map);\n            }\n        },\n        /**\n         * 初始化搜索菜单\n         *\n         * @param {string} cityname\n         */\n        initAutocomplate: function initAutocomplate(domContainer, pageSize, cityname) {\n            // console.log('cityname', cityname);\n            var vm = this;\n            AMap.plugin(['AMap.Geocoder', 'AMap.Autocomplete', 'AMap.PlaceSearch'], function () {\n                var autoOptions = {\n                    city: cityname && '',\n                    input: domContainer //使用联想输入的input的id\n                };\n                vm.autocomplete = new AMap.Autocomplete(autoOptions);\n                vm.placeSearch = new AMap.PlaceSearch({\n                    city: cityname,\n                    map: vm.map,\n                    // panel: \"result\",\n                    pageSize: pageSize\n                });\n                AMap.event.addListener(vm.autocomplete, \"select\", function (e) {\n                    //TODO 针对选中的poi实现自己的功能\n                    console.log('autocomplate select event');\n                    vm.autocomplateInput = e.poi.name;\n                    vm.placeSearch.search(e.poi.name, function (status, result) {\n                        if (status === 'complete' && result.info === 'OK') {\n                            // 清除所有覆盖物\n                            vm.map.clearMap();\n                            // 绘制自己的坐标点\n                            vm.renderSearchMarker(result.poiList.pois);\n                            // 地图自适应显示\n                            vm.map.setFitView();\n                            vm.map.setZoom(16);\n                            // 清除搜索结果\n                            vm.placeSearch.clear();\n                        } else {\n                            console.log(\"没有匹配结果<br>或者结果太多\");\n                        }\n                    });\n                });\n            });\n        },\n        /**\n         * 地图鼠标单击事件\n         */\n        initMouseTools: function initMouseTools() {\n            var vm = this;\n            vm.mouseTool.marker();\n            vm.mouseTool.on('draw', function (data) {\n                vm.map.clearMap();\n                var position = data.obj.getPosition();\n                vm.geocoder.getAddress(position, function (status, result) {\n                    if (status === 'complete' && result.info === 'OK') {\n                        console.log(result);\n                        var _address = result.regeocode.addressComponent;\n                        var poi = {\n                            location: position,\n                            address: _address.district + _address.street + _address.streetNumber,\n                            name: result.regeocode.formattedAddress\n                        };\n                        vm.renderSearchMarker([poi], true);\n                    }\n                });\n            });\n        },\n        // 如果有一个结果, 自动设置. 如果没有让用户选择\n        searchDefaultSuggestion: function searchDefaultSuggestion(event) {\n            var vm = this;\n            // TODO: 如果输入回车 自动blur userInput\n            vm.placeSearch.search(this.autocomplateInput, function (status, result) {\n                if (status === 'complete' && result.info === 'OK') {\n                    // 清除所有覆盖物\n                    vm.map.clearMap();\n                    // 绘制自己的坐标点\n                    vm.renderSearchMarker(result.poiList.pois);\n                    // 地图自适应显示\n                    vm.map.setFitView();\n                    vm.map.setZoom(14);\n                    // 清除搜索结果\n                    vm.placeSearch.clear();\n                } else {\n                    console.log(\"没有匹配结果<br>或者结果太多\");\n                }\n            });\n        },\n        /**\n         * 显示自定义的marker\n         */\n        renderSearchMarker: function renderSearchMarker(poiList) {\n            var vm = this;\n            var infoWindow = new AMap.InfoWindow({ offset: new AMap.Pixel(0, -30) });\n            var poiIndex = 0;\n            var _loop_1 = function _loop_1(poi) {\n                poiIndex++;\n                marker = new AMap.Marker({\n                    position: poi.location,\n                    map: vm.map,\n                    icon: 'http://webapi.amap.com/theme/v1.3/markers/n/mark_r' + poiIndex + '.png',\n                    draggable: true\n                });\n                marker.content = vm.$refs[\"marker-content\"];\n                // 默认没有移动过\n                marker.setExtData({ isMoved: true, poiIndex: poiIndex });\n                marker.on('click', function (e) {\n                    //  如果信息有更改\n                    vm.selectedPoi.location = poi.location;\n                    vm.selectedPoi.address = poi.address;\n                    vm.selectedPoi.name = poi.name;\n                    vm.selectedPoi.isMoved = this.getExtData().isMoved;\n                    infoWindow.setContent(e.target.content);\n                    infoWindow.open(vm.map, e.target.getPosition());\n                });\n                // 触发一次click显示\n                // marker.emit('click', { target: marker });\n                // 因为会自动触发 拖拽之后也会触发 所以在这里做检查\n                // vm.setMarkerLocation(poi);\n                marker.on('dragstart', function (e) {\n                    vm.map.clearInfoWindow();\n                });\n                marker.on('dragend', function (e) {\n                    var that = this;\n                    console.log(e.lnglat);\n                    that.setExtData({ isMoved: true });\n                    var lat = e.lnglat.lat,\n                        lng = e.lnglat.lng;\n                    that.setPosition(new AMap.LngLat(lng, lat));\n                    vm.geocoder.getAddress(e.lnglat, function (status, result) {\n                        if (status === 'complete' && result.info === 'OK') {\n                            console.log(result);\n                            var _address = result.regeocode.addressComponent;\n                            vm.selectedPoi.location = e.lnglat;\n                            vm.selectedPoi.address = _address.district + _address.street + _address.streetNumber;\n                            vm.selectedPoi.name = result.regeocode.formattedAddress;\n                            vm.selectedPoi.isMoved = that.getExtData().isMoved;\n                            console.log(vm.selectedPoi.name);\n                            infoWindow.setContent(e.target.content);\n                            infoWindow.open(vm.map, e.target.getPosition());\n                        }\n                    });\n                    // \n                });\n            };\n            var marker;\n            for (var _i = 0, poiList_1 = poiList; _i < poiList_1.length; _i++) {\n                var poi = poiList_1[_i];\n                _loop_1(poi);\n            }\n        },\n        /**\n         * TODO:下一步功能\n         * 改变行政区划的时候改变相应的区域\n         * 用户选择北京的时候, 直接改变区域中心点\n         */\n        initAMapDistrictSearch: function initAMapDistrictSearch(keyword, callback) {\n            var vm = this;\n            AMap.service('AMap.DistrictSearch', function () {\n                var opts = {\n                    subdistrict: 1,\n                    extensions: 'base',\n                    showbiz: false,\n                    level: 'district' //查询行政级别为 县\n                };\n                //实例化DistrictSearch\n                var district = new AMap.DistrictSearch(opts);\n                //行政区查询\n                district.search(keyword, function (status, result) {\n                    var county = result.districtList[0];\n                    // 设置地图中心点\n                    vm.map.setCenter(county.center);\n                    vm.map.setZoom(14);\n                    callback(county);\n                });\n            });\n        },\n        selectPeriphery: function selectPeriphery(selectType, mapCenter, cityname, pageSize) {\n            var vm = this;\n            vm.placeSearch = new AMap.PlaceSearch({\n                city: cityname,\n                type: selectType,\n                map: vm.map,\n                // panel: \"result\",\n                pageSize: pageSize || 10\n            });\n            vm.placeSearch.searchNearBy(\"\", mapCenter, 1000, function (status, result) {\n                if (status === 'complete' && result.info === 'OK') {\n                    // 清除所有覆盖物\n                    vm.map.clearMap();\n                    // 绘制自己的坐标点\n                    vm.renderSearchMarker(result.poiList.pois);\n                    // 地图自适应显示\n                    vm.map.setFitView();\n                    vm.map.setZoom(15);\n                    // 清除搜索结果\n                    vm.placeSearch.clear();\n                }\n            });\n        }\n    }\n};\n\n/***/ }),\n/* 5 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar amap_1 = __webpack_require__(4);\n// console.log(amapmixinApp);\nexports.default = {\n    name: 'amapSearch',\n    data: function () {\n        return {\n            // 高德地图相关的 amapmixin 中使用的 \n            autocomplateInput: '',\n        };\n    },\n    watch: {\n        autocomplateInput: function (val, oldVal) {\n            this.$emit('userInput', val);\n        },\n        'selectedPoi.location.lat': function selectedPoiLocation(newVal, oldVal) {\n            /**\n             * 如果不显示确定按钮, 拖到那里是哪里的话,\n             * searchCount 默认为1\n             */\n            if (this.autoConfirm) {\n                this.selectedPoi.isMoved = false;\n                var loc = JSON.stringify(this.selectedPoi);\n                this.$emit('pickedLocation', JSON.parse(loc));\n            }\n        },\n        selectType: function (val, oldVal) {\n            if (!this.defaultLat || !this.defaultLng)\n                return;\n            this.selectPeriphery(this.selectType, [this.defaultLat, this.defaultLng], '上海', 10);\n        },\n        defaultLng: function () {\n            var self = this;\n            // console.log('=====lng=====');\n            // this.createScript(() => {\n            //   self.initMap();\n            // })\n        },\n        defaultLat: function () {\n            var self = this;\n            // console.log('=====lat=====');\n            // this.createScript(() => {\n            //   self.initMap();\n            // })\n        }\n    },\n    props: {\n        defaultLng: {\n            type: Number,\n            // default: 31.230489,\n            required: false\n        },\n        defaultLat: {\n            type: Number,\n            // default: 121.473669, //[31.230489,121.473669]\n            required: false\n        },\n        defaultCity: {\n            type: String,\n            default: '上海',\n            required: false\n        },\n        searchCount: {\n            type: Number,\n            default: 1,\n            required: false\n        },\n        width: {\n            type: [String, Number],\n            required: true\n        },\n        height: {\n            type: Number,\n            required: true\n        },\n        autoConfirm: {\n            type: Boolean,\n            default: false,\n            required: false\n        },\n        icon: {\n            type: String,\n            default: 'data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgdmlld0JveD0iLTkgMTAgMjEgMjIiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgLTkgMTAgMjEgMjI7IiB4bWw6c3BhY2U9InByZXNlcnZlIj4gPHN0eWxlIHR5cGU9InRleHQvY3NzIj4gLnN0MHtmaWxsOm5vbmU7fSAuc3Qxe2ZpbGw6IzMzMzMzMztmaWxsLW9wYWNpdHk6MC41O30gLnN0MntmaWxsOiNGRjZGNUM7fSA8L3N0eWxlPiA8Zz4gPGVsbGlwc2UgY2xhc3M9InN0MCIgY3g9IjEuNSIgY3k9IjE4IiByeD0iNC4yMDAwMSIgcnk9IjQiLz4gPHBhdGggY2xhc3M9InN0MSIgZD0iTS0wLjA0ODgzLDI5LjA2MTM0Qy0yLjMzMTU0LDI5LjI0MzktNCwyOS44MTgzNi00LDMwLjVjMCwwLjgyODQzLDIuNDYyNDYsMS41LDUuNSwxLjVTNywzMS4zMjg0Myw3LDMwLjUgYzAtMC42ODE2NC0xLjY2ODQ2LTEuMjU2MS0zLjk1MTE3LTEuNDM4NjZDMi4xMjU0MywyOS42NjQzMSwxLjUwMDA2LDMwLDEuNTAwMDYsMzBTMC44NzQ2MywyOS42NjQzMS0wLjA0ODgzLDI5LjA2MTM0eiIvPiA8cGF0aCBjbGFzcz0ic3QyIiBkPSJNMTAuOTUwMDEsMTguNDE0NTVDMTAuOTUwMDEsMTMuNzY3MDksNi43MTk3MywxMCwxLjUwMDA2LDEwYy01LjIxOTc5LDAtOS40NTAwNywzLjc2NzA5LTkuNDUwMDcsOC40MTQ1NSBjMCw0Ljg2NTM2LDUuMjIxODYsOC44OTcyOCw3LjkwMTE4LDEwLjY0Njc5QzAuODc0NjMsMjkuNjY0MzEsMS41MDAwNiwzMCwxLjUwMDA2LDMwczAuNjI1MzctMC4zMzU2OSwxLjU0ODc3LTAuOTM4NjYgQzUuNzI4MDksMjcuMzExODMsMTAuOTUwMDEsMjMuMjc5OTEsMTAuOTUwMDEsMTguNDE0NTV6IE0xLjUsMjJjLTIuMzE5MTUsMC00LjIwMDAxLTEuNzkwNTMtNC4yMDAwMS00Uy0wLjgxOTE1LDE0LDEuNSwxNCBjMi4zMTkwOSwwLDQuMjAwMDEsMS43OTA1Myw0LjIwMDAxLDRDNS43MDAwMSwyMC4yMDk1MywzLjgxOTA5LDIyLDEuNSwyMnoiLz4gPC9nPiA8L3N2Zz4=',\n            required: false,\n        },\n        dragEnable: {\n            type: Boolean,\n            default: false,\n        },\n        useClick: {\n            type: Boolean,\n            default: false,\n            required: false\n        },\n        showSearch: {\n            type: Boolean,\n            default: false,\n            required: false,\n        },\n        selectType: {\n            type: String,\n            default: '',\n            required: false,\n        }\n    },\n    methods: {\n        setMarkerLocation: function () {\n            if (this.autoConfirm == false) {\n                this.selectedPoi.isMoved = false;\n                var loc = JSON.stringify(this.selectedPoi);\n                this.$emit('pickedLocation', JSON.parse(loc));\n            }\n        },\n        createScript: function (cb) {\n            // if (document.getElementById(`${window['amapConfig']['key']}`)) return;\n            if (!window['amapConfig'] || !window['amapConfig']['key'])\n                return console.error('No configuration for amap');\n            var el = document.createElement('script');\n            el.src = \"http://webapi.amap.com/maps?v=1.3&key=\" + window['amapConfig']['key'];\n            el.id = \"\" + window['amapConfig']['key'];\n            // el.onload = function () {\n            //   cb()\n            // };\n            el.onload = function () {\n                setTimeout(function () {\n                    cb();\n                    console.log(\"AMap load ts\");\n                }, 1000);\n            };\n            document.head.appendChild(el);\n        },\n        initMap: function () {\n            if (!this.defaultLng || !this.defaultLat)\n                return;\n            this.initAmap('amap-container', [this.defaultLat, this.defaultLng], this.icon, this.dragEnable);\n            /**\n             * 如果不显示确定按钮, 拖到那里是哪里的话,\n             * searchCount 默认为1\n             */\n            var searchCount = this.autoConfirm ? 1 : this.searchCount;\n            /**\n             * 如果支持用户点击, 点在哪里是哪里\n             * searchCount 默认为1\n             */\n            if (this.useClick) {\n                this.initMouseTools();\n                searchCount = 1;\n            }\n            // 初始化 自动完成 domId ''代表默认全国\n            this.initAutocomplate(\"autocomplate-input\", searchCount, this.defaultCity);\n        }\n    },\n    mounted: function () {\n        var _this = this;\n        // 初始化 domId\n        this.createScript(function () {\n            _this.initMap();\n        });\n    },\n    mixins: [amap_1.amapmixinApp],\n};\n\n\n/***/ }),\n/* 6 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\n/* styles */\n__webpack_require__(1)\n\nvar Component = __webpack_require__(2)(\n  /* script */\n  __webpack_require__(0),\n  /* template */\n  __webpack_require__(3),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nexports.__esModule = true;\nexports[\"default\"] = Component.exports\n\n\n/***/ })\n/******/ ]);\n});\n\n\n// WEBPACK FOOTER //\n// main.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 6);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 3ea3e1a6972907cf73ea","<template>\n  <div class=\"amap-search__container\" :style=\"{width: width + 'px',height: height + 'px'}\">\n    <!--自动输入框-->\n    <div class=\"amap-search__autocomplate\" v-show=\"showSearch\">\n        <input type=\"text\" v-model=\"autocomplateInput\" id=\"autocomplate-input\" \n        @keyup.enter=\"searchDefaultSuggestion\" autocomplete=\"off\"\n        placeholder=\"输入详细地址,越详细定位越精准\"/>\n        <a class=\"amap-search__search-btn\" @click=\"searchDefaultSuggestion\">\n            搜索\n        </a>\n    </div>\n\n    <!--自定义的窗体 marker-content -->\n    <div ref=\"marker-content\" class=\"marker-content\" v-show=\"selectedPoi.location.lat\">\n      <div class=\"marker-content-header\">\n          <span v-show=\"selectedPoi.isMoved==false\" class=\"notice-icon\">&#9873;</span>\n          <span v-show=\"selectedPoi.isMoved==false\" class=\"notice\">已将坐标定位为</span>\n          <span v-show=\"selectedPoi.isMoved\" class=\"notice\">坐标定位</span>\n      </div>\n      <div class=\"marker-info\">\n          <div class=\"marker-name\">{{selectedPoi.name}}</div>\n          <div class=\"marker-address\">{{selectedPoi.address}}</div>\n      </div>\n      <a v-show=\"selectedPoi.isMoved\" class=\"amap-search__confirm-btn\" @click=\"setMarkerLocation(selectedPoi)\">确定</a>\n    </div>\n\n    <!--地图容器-->\n    <div id=\"amap-container\"></div>\n  </div>\n</template>\n\n<script>\nmodule.exports = require('./search.ts').default\n</script>\n\n<style lang=\"less\">\n#amap-container{\n  width: inherit;\n  height: inherit;\n}\n\n.amap-search__container{\n  position: relative;\n  width: inherit;\n  height: inherit;\n  margin: 0 auto;\n}\n\n.amap-search__autocomplate {\n  width: 400px;\n  z-index: 20;\n  background-color: #ddf;\n  color: #333;\n  box-shadow: 0px 2px 4px 0px silver;\n  position: absolute;\n  top: 10px;\n  left: 25%;\n  border-radius: 5px;\n  overflow: hidden;\n  line-height: 20px;\n  border-radius: 5px;\n  height: 34px;\n  line-height: 34px;\n  display: flex;\n  flex: 1;\n  justify-content:stretch;\n\n  input[type=\"text\"] {\n    height: 25px;\n    border: 0;\n    width: auto;\n    outline: none;\n    height: inherit;\n    line-height: inherit;\n    font-size: 14px;\n    padding-left: 15px;\n    border-radius: 5px 0px 0px 5px;\n    flex: 1;\n    &:focus{\n      border: none !important;\n    }\n  }\n\n  a.amap-search__search-btn {\n    background: #06C1AE;\n    color: #fff;\n    border:0;\n    width: 40px;\n    height: inherit;\n    font-size: 12px;\n    line-height: inherit;\n  }\n}\n\na.amap-search__confirm-btn{\n  background: #06C1AE;\n  color: #fff;\n  border:0;\n  min-width: 40px;\n  text-align: center;\n  font-size: 12px;\n  height: 34px;\n  line-height: 34px;\n  padding:0px 10px;\n  display: inline-block;\n  border-radius: 5px;\n}\n/* 弹出信息窗体 */\n.marker-content{\n  .marker-content-header{\n    border-bottom: 1px solid #E5E5E5;\n    height: 24px;\n    background: none;\n    .marker-circle{\n      background: #99D465;\n      height: 18px;\n      width: 18px;\n      border-radius: 9px;\n      color: #fff;\n      float: left;\n      text-align: center;\n      span{\n        line-height: 18px;\n        width: 18px;\n      }\n    }\n    .notice-icon{\n      color: #06C1AE;\n      margin-right: 8px;\n    }\n    .notice{\n      font-size: 12px;\n      font-weight: bold;\n    }\n  }\n  .marker-info{\n    padding-top: 10px;\n    .marker-name {\n      font-size: 15px;\n    }\n    .marker-address {\n      padding: 5px 0px;\n      font-size: 12px;\n      color: #a0a0a0;\n    }\n  }\n}\n\n/*重写高德css*/\n\n.amap-sug-result {\n  border-radius: 5px;\n  box-shadow: 0px 2px 4px 0px silver;\n  border: none;\n  font-family: \"Helvetica Neue\",Helvetica,Arial,sans-serif;\n  .auto-item{\n    font-size: 14px;\n    height: 24px;\n    line-height: 24px;\n    padding-left: 15px;\n  }\n}\n\n.amap-info-outer{\n  border-radius: 5px !important; \n  border: none !important;\n}\n\n// .amap-info-sharp{\n//   background-image: url(/images/marker_drop.png) !important;\n//   height: 13px !important;\n//   background-repeat: no-repeat !important;\n//   top: -3px  !important;\n// }\n\n</style>\n\n\n// WEBPACK FOOTER //\n// search.vue?e41897fc","// this module is a runtime utility for cleaner component module output and will\n// be included in the final webpack user bundle\n\nmodule.exports = function normalizeComponent (\n  rawScriptExports,\n  compiledTemplate,\n  scopeId,\n  cssModules\n) {\n  var esModule\n  var scriptExports = rawScriptExports = rawScriptExports || {}\n\n  // ES6 modules interop\n  var type = typeof rawScriptExports.default\n  if (type === 'object' || type === 'function') {\n    esModule = rawScriptExports\n    scriptExports = rawScriptExports.default\n  }\n\n  // Vue.extend constructor export interop\n  var options = typeof scriptExports === 'function'\n    ? scriptExports.options\n    : scriptExports\n\n  // render functions\n  if (compiledTemplate) {\n    options.render = compiledTemplate.render\n    options.staticRenderFns = compiledTemplate.staticRenderFns\n  }\n\n  // scopedId\n  if (scopeId) {\n    options._scopeId = scopeId\n  }\n\n  // inject cssModules\n  if (cssModules) {\n    var computed = Object.create(options.computed || null)\n    Object.keys(cssModules).forEach(function (key) {\n      var module = cssModules[key]\n      computed[key] = function () { return module }\n    })\n    options.computed = computed\n  }\n\n  return {\n    esModule: esModule,\n    exports: scriptExports,\n    options: options\n  }\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/component-normalizer.js\n// module id = 2\n// module chunks = 0","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"amap-search__container\",\n    style: ({\n      width: _vm.width + 'px',\n      height: _vm.height + 'px'\n    })\n  }, [_c('div', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.showSearch),\n      expression: \"showSearch\"\n    }],\n    staticClass: \"amap-search__autocomplate\"\n  }, [_c('input', {\n    directives: [{\n      name: \"model\",\n      rawName: \"v-model\",\n      value: (_vm.autocomplateInput),\n      expression: \"autocomplateInput\"\n    }],\n    attrs: {\n      \"type\": \"text\",\n      \"id\": \"autocomplate-input\",\n      \"autocomplete\": \"off\",\n      \"placeholder\": \"输入详细地址,越详细定位越精准\"\n    },\n    domProps: {\n      \"value\": (_vm.autocomplateInput)\n    },\n    on: {\n      \"keyup\": function($event) {\n        if (!('button' in $event) && _vm._k($event.keyCode, \"enter\", 13, $event.key, \"Enter\")) { return null; }\n        return _vm.searchDefaultSuggestion($event)\n      },\n      \"input\": function($event) {\n        if ($event.target.composing) { return; }\n        _vm.autocomplateInput = $event.target.value\n      }\n    }\n  }), _vm._v(\" \"), _c('a', {\n    staticClass: \"amap-search__search-btn\",\n    on: {\n      \"click\": _vm.searchDefaultSuggestion\n    }\n  }, [_vm._v(\"\\n          搜索\\n      \")])]), _vm._v(\" \"), _c('div', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.selectedPoi.location.lat),\n      expression: \"selectedPoi.location.lat\"\n    }],\n    ref: \"marker-content\",\n    staticClass: \"marker-content\"\n  }, [_c('div', {\n    staticClass: \"marker-content-header\"\n  }, [_c('span', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.selectedPoi.isMoved == false),\n      expression: \"selectedPoi.isMoved==false\"\n    }],\n    staticClass: \"notice-icon\"\n  }, [_vm._v(\"⚑\")]), _vm._v(\" \"), _c('span', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.selectedPoi.isMoved == false),\n      expression: \"selectedPoi.isMoved==false\"\n    }],\n    staticClass: \"notice\"\n  }, [_vm._v(\"已将坐标定位为\")]), _vm._v(\" \"), _c('span', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.selectedPoi.isMoved),\n      expression: \"selectedPoi.isMoved\"\n    }],\n    staticClass: \"notice\"\n  }, [_vm._v(\"坐标定位\")])]), _vm._v(\" \"), _c('div', {\n    staticClass: \"marker-info\"\n  }, [_c('div', {\n    staticClass: \"marker-name\"\n  }, [_vm._v(_vm._s(_vm.selectedPoi.name))]), _vm._v(\" \"), _c('div', {\n    staticClass: \"marker-address\"\n  }, [_vm._v(_vm._s(_vm.selectedPoi.address))])]), _vm._v(\" \"), _c('a', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.selectedPoi.isMoved),\n      expression: \"selectedPoi.isMoved\"\n    }],\n    staticClass: \"amap-search__confirm-btn\",\n    on: {\n      \"click\": function($event) {\n        _vm.setMarkerLocation(_vm.selectedPoi)\n      }\n    }\n  }, [_vm._v(\"确定\")])]), _vm._v(\" \"), _c('div', {\n    attrs: {\n      \"id\": \"amap-container\"\n    }\n  })])\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-339e4da2\"}!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/amapsearch/search.vue\n// module id = 3\n// module chunks = 0","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.amapmixinApp = {\n    data: function () {\n        return {\n            map: {},\n            autocomplete: {},\n            placeSearch: {},\n            amapCounty: {},\n            geocoder: {},\n            selectedPoi: {\n                location: {\n                    lat: 0,\n                    lng: 0\n                },\n                address: '',\n                name: '',\n                isMoved: true\n            },\n            editingPolygon: {},\n            mouseTool: {}\n        };\n    },\n    mounted: function () {\n        // console.log('amapmixin mounted');\n    },\n    methods: {\n        /**\n         * 初始化amap对象\n         */\n        initAmap: function (domContainer, mapCenter, icon, dragEnable) {\n            var vm = this;\n            vm.map = new AMap.Map(domContainer, {\n                resizeEnable: true,\n                zoom: 14,\n                dragEnable: dragEnable,\n                center: mapCenter\n            });\n            vm.marker = new AMap.Marker({\n                position: mapCenter,//marker所在的位置\n                map: vm.map,//创建时直接赋予map属性\n                icon: icon\n            });\n            vm.marker.setMap(vm.map);\n            AMap.plugin(['AMap.Geocoder','AMap.ToolBar', 'AMap.Scale'], function () {\n                vm.map.addControl(new AMap.ToolBar());\n                vm.map.addControl(new AMap.Scale());\n            });\n            vm.geocoder = new AMap.Geocoder({\n                radius: 1000,\n                extensions: \"all\"\n            });\n            if (AMap.MouseTool) {\n                vm.mouseTool = new AMap.MouseTool(vm.map);\n            }\n        },\n        /**\n         * 初始化搜索菜单\n         *\n         * @param {string} cityname\n         */\n        initAutocomplate: function (domContainer, pageSize, cityname) {\n            // console.log('cityname', cityname);\n            var vm = this;\n            AMap.plugin(['AMap.Geocoder','AMap.Autocomplete', 'AMap.PlaceSearch'], function () {\n                var autoOptions = {\n                    city: cityname && '',\n                    input: domContainer //使用联想输入的input的id\n                };\n                vm.autocomplete = new AMap.Autocomplete(autoOptions);\n                vm.placeSearch = new AMap.PlaceSearch({\n                    city: cityname,\n                    map: vm.map,\n                    // panel: \"result\",\n                    pageSize: pageSize\n                });\n                AMap.event.addListener(vm.autocomplete, \"select\", function (e) {\n                    //TODO 针对选中的poi实现自己的功能\n                    console.log('autocomplate select event');\n                    vm.autocomplateInput = e.poi.name;\n                    vm.placeSearch.search(e.poi.name, function (status, result) {\n                        if (status === 'complete' && result.info === 'OK') {\n                            // 清除所有覆盖物\n                            vm.map.clearMap();\n                            // 绘制自己的坐标点\n                            vm.renderSearchMarker(result.poiList.pois);\n                            // 地图自适应显示\n                            vm.map.setFitView();\n                            vm.map.setZoom(16);\n                            // 清除搜索结果\n                            vm.placeSearch.clear();\n                        }\n                        else {\n                            console.log(\"没有匹配结果<br>或者结果太多\");\n                        }\n                    });\n                });\n            });\n        },\n        /**\n         * 地图鼠标单击事件\n         */\n        initMouseTools: function () {\n            var vm = this;\n            vm.mouseTool.marker();\n            vm.mouseTool.on('draw', function (data) {\n                vm.map.clearMap();\n                var position = data.obj.getPosition();\n                vm.geocoder.getAddress(position, function (status, result) {\n                    if (status === 'complete' && result.info === 'OK') {\n                        console.log(result);\n                        var _address = result.regeocode.addressComponent;\n                        var poi = {\n                            location: position,\n                            address: _address.district + _address.street + _address.streetNumber,\n                            name: result.regeocode.formattedAddress\n                        };\n                        vm.renderSearchMarker([poi], true);\n                    }\n                });\n            });\n        },\n        // 如果有一个结果, 自动设置. 如果没有让用户选择\n        searchDefaultSuggestion: function (event) {\n            var vm = this;\n            // TODO: 如果输入回车 自动blur userInput\n            vm.placeSearch.search(this.autocomplateInput, function (status, result) {\n                if (status === 'complete' && result.info === 'OK') {\n                    // 清除所有覆盖物\n                    vm.map.clearMap();\n                    // 绘制自己的坐标点\n                    vm.renderSearchMarker(result.poiList.pois);\n                    // 地图自适应显示\n                    vm.map.setFitView();\n                    vm.map.setZoom(14);\n                    // 清除搜索结果\n                    vm.placeSearch.clear();\n                }\n                else {\n                    console.log(\"没有匹配结果<br>或者结果太多\");\n                }\n            });\n        },\n        /**\n         * 显示自定义的marker\n         */\n        renderSearchMarker: function (poiList) {\n            var vm = this;\n            var infoWindow = new AMap.InfoWindow({ offset: new AMap.Pixel(0, -30) });\n            var poiIndex = 0;\n            var _loop_1 = function (poi) {\n                poiIndex++;\n                marker = new AMap.Marker({\n                    position: poi.location,\n                    map: vm.map,\n                    icon: 'http://webapi.amap.com/theme/v1.3/markers/n/mark_r' + (poiIndex) + '.png',\n                    draggable: true\n                });\n                marker.content = vm.$refs[\"marker-content\"];\n                // 默认没有移动过\n                marker.setExtData({ isMoved: true, poiIndex: poiIndex });\n                marker.on('click', function (e) {\n                    //  如果信息有更改\n                    vm.selectedPoi.location = poi.location;\n                    vm.selectedPoi.address = poi.address;\n                    vm.selectedPoi.name = poi.name;\n                    vm.selectedPoi.isMoved = this.getExtData().isMoved;\n                    infoWindow.setContent(e.target.content);\n                    infoWindow.open(vm.map, e.target.getPosition());\n                });\n                // 触发一次click显示\n                // marker.emit('click', { target: marker });\n                // 因为会自动触发 拖拽之后也会触发 所以在这里做检查\n                // vm.setMarkerLocation(poi);\n                marker.on('dragstart', function (e) {\n                    vm.map.clearInfoWindow();\n                });\n                marker.on('dragend', function (e) {\n                    var that = this;\n                    console.log(e.lnglat);\n                    that.setExtData({ isMoved: true });\n                    var lat = e.lnglat.lat, lng = e.lnglat.lng;\n                    that.setPosition(new AMap.LngLat(lng, lat));\n                    vm.geocoder.getAddress(e.lnglat, function (status, result) {\n                        if (status === 'complete' && result.info === 'OK') {\n                            console.log(result);\n                            var _address = result.regeocode.addressComponent;\n                            vm.selectedPoi.location = e.lnglat;\n                            vm.selectedPoi.address = _address.district + _address.street + _address.streetNumber;\n                            vm.selectedPoi.name = result.regeocode.formattedAddress;\n                            vm.selectedPoi.isMoved = that.getExtData().isMoved;\n                            console.log(vm.selectedPoi.name);\n                            infoWindow.setContent(e.target.content);\n                            infoWindow.open(vm.map, e.target.getPosition());\n                        }\n                    });\n                    // \n                });\n            };\n            var marker;\n            for (var _i = 0, poiList_1 = poiList; _i < poiList_1.length; _i++) {\n                var poi = poiList_1[_i];\n                _loop_1(poi);\n            }\n        },\n        /**\n         * TODO:下一步功能\n         * 改变行政区划的时候改变相应的区域\n         * 用户选择北京的时候, 直接改变区域中心点\n         */\n        initAMapDistrictSearch: function (keyword, callback) {\n            var vm = this;\n            AMap.service('AMap.DistrictSearch', function () {\n                var opts = {\n                    subdistrict: 1,\n                    extensions: 'base',\n                    showbiz: false,\n                    level: 'district' //查询行政级别为 县\n                };\n                //实例化DistrictSearch\n                var district = new AMap.DistrictSearch(opts);\n                //行政区查询\n                district.search(keyword, function (status, result) {\n                    var county = result.districtList[0];\n                    // 设置地图中心点\n                    vm.map.setCenter(county.center);\n                    vm.map.setZoom(14);\n                    callback(county);\n                });\n            });\n        },\n        selectPeriphery(selectType, mapCenter, cityname, pageSize){\n          const vm = this;\n          vm.placeSearch = new AMap.PlaceSearch({\n            city: cityname,\n            type: selectType,\n            map: vm.map,\n            // panel: \"result\",\n            pageSize:pageSize || 10\n          });\n          vm.placeSearch.searchNearBy(\"\", mapCenter, 1000, function(status, result) {\n            if (status === 'complete' && result.info === 'OK') {\n              // 清除所有覆盖物\n              vm.map.clearMap();\n              // 绘制自己的坐标点\n              vm.renderSearchMarker(result.poiList.pois);\n              // 地图自适应显示\n              vm.map.setFitView();\n              vm.map.setZoom(15);\n              // 清除搜索结果\n              vm.placeSearch.clear();\n            }\n          });\n        },    \n    }\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/mixins/amap.js","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar amap_1 = require(\"../../mixins/amap\");\n// console.log(amapmixinApp);\nexports.default = {\n    name: 'amapSearch',\n    data: function () {\n        return {\n            // 高德地图相关的 amapmixin 中使用的 \n            autocomplateInput: '',\n        };\n    },\n    watch: {\n        autocomplateInput: function (val, oldVal) {\n            this.$emit('userInput', val);\n        },\n        'selectedPoi.location.lat': function selectedPoiLocation(newVal, oldVal) {\n            /**\n             * 如果不显示确定按钮, 拖到那里是哪里的话,\n             * searchCount 默认为1\n             */\n            if (this.autoConfirm) {\n                this.selectedPoi.isMoved = false;\n                var loc = JSON.stringify(this.selectedPoi);\n                this.$emit('pickedLocation', JSON.parse(loc));\n            }\n        },\n        selectType: function (val, oldVal) {\n            if (!this.defaultLat || !this.defaultLng)\n                return;\n            this.selectPeriphery(this.selectType, [this.defaultLat, this.defaultLng], '上海', 10);\n        },\n        defaultLng: function () {\n            var self = this;\n            // console.log('=====lng=====');\n            // this.createScript(() => {\n            //   self.initMap();\n            // })\n        },\n        defaultLat: function () {\n            var self = this;\n            // console.log('=====lat=====');\n            // this.createScript(() => {\n            //   self.initMap();\n            // })\n        }\n    },\n    props: {\n        defaultLng: {\n            type: Number,\n            // default: 31.230489,\n            required: false\n        },\n        defaultLat: {\n            type: Number,\n            // default: 121.473669, //[31.230489,121.473669]\n            required: false\n        },\n        defaultCity: {\n            type: String,\n            default: '上海',\n            required: false\n        },\n        searchCount: {\n            type: Number,\n            default: 1,\n            required: false\n        },\n        width: {\n            type: [String, Number],\n            required: true\n        },\n        height: {\n            type: Number,\n            required: true\n        },\n        autoConfirm: {\n            type: Boolean,\n            default: false,\n            required: false\n        },\n        icon: {\n            type: String,\n            default: 'data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgdmlld0JveD0iLTkgMTAgMjEgMjIiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgLTkgMTAgMjEgMjI7IiB4bWw6c3BhY2U9InByZXNlcnZlIj4gPHN0eWxlIHR5cGU9InRleHQvY3NzIj4gLnN0MHtmaWxsOm5vbmU7fSAuc3Qxe2ZpbGw6IzMzMzMzMztmaWxsLW9wYWNpdHk6MC41O30gLnN0MntmaWxsOiNGRjZGNUM7fSA8L3N0eWxlPiA8Zz4gPGVsbGlwc2UgY2xhc3M9InN0MCIgY3g9IjEuNSIgY3k9IjE4IiByeD0iNC4yMDAwMSIgcnk9IjQiLz4gPHBhdGggY2xhc3M9InN0MSIgZD0iTS0wLjA0ODgzLDI5LjA2MTM0Qy0yLjMzMTU0LDI5LjI0MzktNCwyOS44MTgzNi00LDMwLjVjMCwwLjgyODQzLDIuNDYyNDYsMS41LDUuNSwxLjVTNywzMS4zMjg0Myw3LDMwLjUgYzAtMC42ODE2NC0xLjY2ODQ2LTEuMjU2MS0zLjk1MTE3LTEuNDM4NjZDMi4xMjU0MywyOS42NjQzMSwxLjUwMDA2LDMwLDEuNTAwMDYsMzBTMC44NzQ2MywyOS42NjQzMS0wLjA0ODgzLDI5LjA2MTM0eiIvPiA8cGF0aCBjbGFzcz0ic3QyIiBkPSJNMTAuOTUwMDEsMTguNDE0NTVDMTAuOTUwMDEsMTMuNzY3MDksNi43MTk3MywxMCwxLjUwMDA2LDEwYy01LjIxOTc5LDAtOS40NTAwNywzLjc2NzA5LTkuNDUwMDcsOC40MTQ1NSBjMCw0Ljg2NTM2LDUuMjIxODYsOC44OTcyOCw3LjkwMTE4LDEwLjY0Njc5QzAuODc0NjMsMjkuNjY0MzEsMS41MDAwNiwzMCwxLjUwMDA2LDMwczAuNjI1MzctMC4zMzU2OSwxLjU0ODc3LTAuOTM4NjYgQzUuNzI4MDksMjcuMzExODMsMTAuOTUwMDEsMjMuMjc5OTEsMTAuOTUwMDEsMTguNDE0NTV6IE0xLjUsMjJjLTIuMzE5MTUsMC00LjIwMDAxLTEuNzkwNTMtNC4yMDAwMS00Uy0wLjgxOTE1LDE0LDEuNSwxNCBjMi4zMTkwOSwwLDQuMjAwMDEsMS43OTA1Myw0LjIwMDAxLDRDNS43MDAwMSwyMC4yMDk1MywzLjgxOTA5LDIyLDEuNSwyMnoiLz4gPC9nPiA8L3N2Zz4=',\n            required: false,\n        },\n        dragEnable: {\n            type: Boolean,\n            default: false,\n        },\n        useClick: {\n            type: Boolean,\n            default: false,\n            required: false\n        },\n        showSearch: {\n            type: Boolean,\n            default: false,\n            required: false,\n        },\n        selectType: {\n            type: String,\n            default: '',\n            required: false,\n        }\n    },\n    methods: {\n        setMarkerLocation: function () {\n            if (this.autoConfirm == false) {\n                this.selectedPoi.isMoved = false;\n                var loc = JSON.stringify(this.selectedPoi);\n                this.$emit('pickedLocation', JSON.parse(loc));\n            }\n        },\n        createScript: function (cb) {\n            // if (document.getElementById(`${window['amapConfig']['key']}`)) return;\n            if (!window['amapConfig'] || !window['amapConfig']['key'])\n                return console.error('No configuration for amap');\n            var el = document.createElement('script');\n            el.src = \"http://webapi.amap.com/maps?v=1.3&key=\" + window['amapConfig']['key'];\n            el.id = \"\" + window['amapConfig']['key'];\n            // el.onload = function () {\n            //   cb()\n            // };\n            el.onload = function () {\n                setTimeout(function () {\n                    cb();\n                    console.log(\"AMap load ts\");\n                }, 1000);\n            };\n            document.head.appendChild(el);\n        },\n        initMap: function () {\n            if (!this.defaultLng || !this.defaultLat)\n                return;\n            this.initAmap('amap-container', [this.defaultLat, this.defaultLng], this.icon, this.dragEnable);\n            /**\n             * 如果不显示确定按钮, 拖到那里是哪里的话,\n             * searchCount 默认为1\n             */\n            var searchCount = this.autoConfirm ? 1 : this.searchCount;\n            /**\n             * 如果支持用户点击, 点在哪里是哪里\n             * searchCount 默认为1\n             */\n            if (this.useClick) {\n                this.initMouseTools();\n                searchCount = 1;\n            }\n            // 初始化 自动完成 domId ''代表默认全国\n            this.initAutocomplate(\"autocomplate-input\", searchCount, this.defaultCity);\n        }\n    },\n    mounted: function () {\n        var _this = this;\n        // 初始化 domId\n        this.createScript(function () {\n            _this.initMap();\n        });\n    },\n    mixins: [amap_1.amapmixinApp],\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/amapsearch/search.ts\n// module id = 5\n// module chunks = 0","\n/* styles */\nrequire(\"!!../../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"id\\\":\\\"data-v-339e4da2\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!less-loader!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./search.vue\")\n\nvar Component = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./search.vue\"),\n  /* template */\n  require(\"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-339e4da2\\\"}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./search.vue\"),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nexports.__esModule = true;\nexports[\"default\"] = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/amapsearch/search.vue\n// module id = 6\n// module chunks = 0"],"sourceRoot":""}